---
title: "健康检查器"
---

在 KubeSphere 中，用户可以为容器组 (Pod) 定义一个健康检查探针 (Probe)。因为 kubelet 会根据用户定义的这个健康检查探针的返回值，来决定容器的状态，而不是直接以容器是否运行 (来自 Docker 返回的信息) 作为判断依据。这种健康检查的机制，在实际的生产环境中是保证应用健康存活的重要手段。

KubeSphere 提供了两种健康检查探针：

- 存活探针 (liveness Probe)：

存储探针用于检测容器是否存活，类似于我们在 Linux 中执行 ps 命令来检查系统中的进程是否存在。如果容器的存活检查失败，集群会根据容器组的重启机制 (RestartPolicy，默认为 Always) 对容器执行重启操作，若容器的存活探针检测成功，则不执行任何操作。

- 就绪探针 (Readiness Probe)：

KubeSphere 还支持一种健康检查方案叫就绪探针，虽然它的用方法与存活探针相似，但作用却大不相同，就绪探针用于检测结果的成功与否，检测容器是否准备好开始处理用户请求，或决定容器组是不是能被通过服务 (Service) 的方式访问到。


## 设置健康检查器

健康检查器支持在 **工作负载** 的部署、有状态副本集和守护进程集中设置检查探针，以部署为例，演示如何设置健康检查探针，请确保已创建了部署资源。

