---
title: "部署"
---


*  登录 KubeSphere 管理控制台，访问左侧菜单栏，在**应用负载**菜单下，点击**部署**按钮，进入部署列表页面。选择不同的项目，就可以看到对应项目下的所有部署。如果是管理员登录，可以看到集群所有项目的部署情况，如果是普通用户，则只能查看授权项目下的所有部署。  
![](/deployment_list.png)  

## 创建部署      
1. 点击右上角**创建部署**按钮，新建一个部署。 
![](/deployment_create_1.png)
2. 目前创建部署一共有三种方式，**页面创建**，**导入yaml文件**创建，**代码模式**创建。其中**导入yaml**文件方式会自动将yaml文件内容填充到页面上，用户根据需要可以在页面上调整后再行创建。**代码模式**可以方便习惯命令行操作的人员直接在页面上编辑yaml文件并创建部署。
![](/deployment_create_2.png)
3. 这里重点介绍**页面创建**的方式。需要输入部署的名称并选择创建部署的项目，确定部署的副本数量，用户还可以根据需求填写部署的描述信息。
![](/deployment_create_3.png)
4. 在**容器组设置页面**用户可以根据需求对容器组进行配置。容器组可以包含一个或者多个容器。要求输入容器的名称和对应的镜像名。如果用户有更进一步的需求，可以点击**高级选项** 。 高级选项中可以对cpu和内存的资源使用进行限定。其中**requests**是集群保证分配给容器的资源，__limits__是容器可以使用的资源的上限。超过这个限定值，容器会被kill。用户可以通过**命令**和**参数** 选项自定义容器的启动命令和启动参数。**端口**用于指定容器需要暴露的端口，端口协议可以选择TCP和UDP, 用户还可以指定端口与主机端口进行绑定。**环境变量**可以指定容器内部使用的环境变量。上述配置信息填写完成以后，点击下一步。
![](/deployment_create_4.png)
5. 在存储卷页面可以添加**存储卷**和**临时存储卷**。**存储卷**可用于持久化用户数据。保留在**临时存储卷**中的数据，在容器组被删除以后，也将被同步删除。 选择使用__临时存储卷__方案时要求用户输入存储卷的名称和相应的挂载点，然后点击**挂载**和**确定**。
![](/deployment_create_5.png)
6. 当选择使用**存储卷**时，可以选择**已有存储卷**或者根据需求**新建存储卷**。当选择新建存储卷时，用户需要填写存储卷的名称，选择存储类型，指定容量和访问模式。最后确定挂载点，并且点击挂载和确定。然后点击下一步。
![](/deployment_create_6.png)  
7. 标签设置页用于指定部署对应的一组或者多组标签。
![](/deployment_create_7.png) 
8. 节点选择器页面，用户可以通过指定一组或者多组键值对来指定期望运行容器组的节点。当不指定时，容器组将有可能调度到集群内部满足调度条件的任意节点。最后点击创建，集群就会按照用户的配置创建对应的部署。
![](/deployment_create_8.png)
 

## 查看部署详情 
*  在部署列表页，点击某个部署的名称，就可以进入到部署详情页，可以查看部署的详细信息以及部署对应的各种资源。
![](/deployment_read_1.png)
*  同时在本页可以通过左下角的容器组数量栏调整部署的副本数量，左上角的更多选项编辑配置文件，暂停/开启/删除部署。
![](/deployment_read_4.png)
*  当点击容器组列表的容器时，页面会跳转到容器组的详情页。
![](/deployment_read_2.png)
*  点击容器组详情页的容器列表中的某一容器时，会跳转到容器的详情页，可以看到容器的配置信息，对应资源以及日志。在本页，用户还可以通过左上角的**终端**按钮进入容器内部。
![](/deployment_read_3.png)


## 编辑部署
*  在部署的列表页和详情页中都可以编辑部署对应的yaml文件，编辑是在代码模式下完成的，编辑完成以后，点击右下方的更新按钮，部署就会按照最新的配置进行更新。
![](/deployment_update_1.png)
*  如果只是修改部署的描述信息，可以使用部署详情页左上角的**编辑**进行修改。
![](/deployment_update_2.png)

## 删除部署
*  在列表页最右侧的更多选项和部署详情页的左上方的更多选项中都提供了部署的删除功能。 
 ![](/deployment_delete_1.png)
 ![](/deployment_delete_2.png)
